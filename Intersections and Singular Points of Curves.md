# The Intuitive Idea of Intersection Multiplicity
## Root Multiplicity and Secant Lines
We first consider polynomials in one variable and define the multiplicity of a root. If $p$ is a polynomial with $r$ as a root, then we can factor $p$ as $(x - r)^a q(x)$ where $q$ is a polynomial of degree $\deg(p) - a$ and $(x - r)$ does not divide $q$. We say that $r$ is a root of multiplicity $a$. We may observe that, when $a = 1$, $p$ passes "straight through" the x-axis at $r$, but when $a = 2$, $p$ is tangent to the x-axis. 

Another way of thinking of this situation is to consider the intersection of $p$ with a line $l$ that approaches the x-axis. For example, let $p = x^2$, and consider the line $l = tx$ passing through the origin. This will generally intersect $p$ in two different places: $x = 0$ and $x = t$. As $t$ goes to $0$, these two intersections get closer together, and when $t = 0$ they "merge" into a single intersection. We can therefore think of roots like this as "limits" of two intersections, and say that they count as two roots of $p$. This fits with the algebraic situation, where $x$ divides $p$ twice. Also, since $l$ is just the secant line passing through $p$ at $x=0$, and its limit as $t \to 0$ is the tangent line, this shows that the derivative of $p$ is $0$ at the double root.

More generally, letting $p = x^n$ and $l = tx$, we see that $p$ intersects $l$ at $n$ values of $x$, for a given nonzero value of $t$. These are $x = 0$ and $x = t \cdot \zeta_{n-1}^i$, where $0 \leq i < n-1$ and $\zeta_{n-1}$ is an $n-1$-th root of unity. As $t \to 0$ these merge into a single intersection at $x = 0$. 

The same arguments work for any root of multiplicity $n$. If we can factor $p$ as $(x - r)^n q(x)$, then near $r$, we have $p \approx C(x - r)^n$ for some constant $C$. By translating coordinates we can change this to $Cx^n$, and then show that a line passing through $(0, 0)$ will intersect $p$ in $n$ different points near $0$, with those intersections merging into a single intersection as the slope of the line goes to $0$. 
## Root Multiplicity and Derivatives
The above arguments suggested that, if $r$ is a root of multiplicity $n$, then the first $n-1$ derivatives of $p$ should be $0$. To prove this, we first consider the case of a double root. Let $p = (x - r)q(x)$ where $(x - r)$ may or may not divide $q$. Then $p' = q(x) + (x - r)q'(x)$. If $q$ has $r$ as a root then $p'(r) = q(r) + (r - r)q'(r) = 0 + 0 = 0$; conversely, if $p'(r) = 0$ then $0 = p'(r) = q(r) + 0q'(r) = q(r)$. Thus $r$ is a root of multiplicity $2$ if and only if $p'(r) = 0$. 

Similarly, if $r$ has multiplicity $3$, then $r$ is a double root of $q$. We have $p'' = q' + q' + (x - r)q'' = 2q' + (x - r)q''$; by our proof of the $n=2$ case, we have $q'(r) = 0$, so $p''(r) = 0$. 

Continuing inductively, we get $p^{(n-1)} = nq^{(n-2)} + (x - r)q^{(n-1)}$. If $r$ is a root of $p$ with multiplicity $n$, then it is a root of $q$ with multiplicity $n-1$, so by the induction hypothesis $q^{(n-2)}(r) = 0$. Thus $p^{(n-1)}(0) = 0$ as well. 

Note that the argument above holds for polynomials over any field, not just $\R$, since we can use the [[Galois Theory#Separability and the Formal Derivative|formal derivative]] even for fields besides $\R$ where the ordinary derivative isn't defined. 
```desmos-graph
y = x
y = (x - 2.5)^2
y = (x - 5)^3
(0, 0)|label: multiplicity 1
(2.5, 0)|label: multiplicity 2
(5, 0)|label: multiplicity 3
```


# Algebraic Definition of Intersection Multiplicity
We define the intersection multiplicity $\mu_p(f, g)$ of two curves $f, g$ at a point $p$ to be the dimension (as a vector space over $K$) of $\mathcal{O}_p / (f, g)$, i.e. the dimension of the quotient of the [[Affine Algebraic Curves#The Local Ring|local ring]] at $p$ by the ideal generated by $f$ and $g$.
## Special Values of $\mu_p$
$\mu_p(f, g)$ can be anywhere from $0$ (in the case where $f, g$ do not actually meet at $p$) to infinity (in the case where $f, g$ have a common component at $p$). In fact, $0 < \mu_p < \infty$ if and only if $f, g$ meet at $p$ but do not have a common component there. Furthermore, $\mu_p = 1$ if and only if $(f, g) = I_p$, the unique maximal ideal in $\mathcal{O}_p$, consisting of all elements whose numerator is $0$ at $p$.
### Multiplicity 0
Proof: if $f, g$ do not intersect at $p$ then $f(p) \neq 0$ and/or $g(p) \neq 0$; say, without loss of generality, $f(p) \neq 0$. Then $\frac{1}{f} \in \mathcal{O}_p$, so $f$ is a unit in $\mathcal{O}_p$, so $(f, g) = (1) = \mathcal{O}_p$ and $\mathcal{O}_p / (f, g)$ is the trivial ring, which has dimension $0$ over $K$. Conversely, if $f(p) = 0$ and $g(p) = 0$, any linear combination of $f$ and $g$ will also equal $0$ at $p$, and thus will not be a unit in $\mathcal{O}_p$. Thus $(f, g)$ is not the unit ideal, and so $\mathcal{O}_p/(f, g)$ is nontrivial, with dimension greater than $0$.
### Infinite Multiplicity
Now, assume that $f, g$ intersect at $p$; for simplicity, translate coordinates so that $p = 0$. We will show that $\mathcal{O}_p/(f, g)$ is finite-dimensional if and only if $f, g$ have no common component passing through the origin. 

Suppose first that they have no common component through the origin. Then we can get rid of any common components that don't pass through the origin: if there exists some polynomial $p$ with $p \mid f, p \mid g$, and $p(0, 0) \neq 0$, then $\frac{1}{p} \in \mathcal{O}_0$, and so $f/p, g/p \in (f, g)$. By abuse of notation we let $f, g$ be what is left after dividing all common components from $f$ and $g$. Now $f$ and $g$ have no common component, so we can use the strategy from [[Affine Algebraic Curves#Curves are infinite, intersections are finite|this proof]] to get an element $p(x) \in K[x]$ which is in $(f, g)$, and similarly $q(y) \in K[y]$ which is also in $(f, g)$. $p$ must pass through the origin, so $p(0) = 0$, and so some power of $x$ divides $p$; let $m$ be the largest such power. Then $p = x^m a(x)$ where $a(0) \neq 0$; thus $1/a \in \mathcal{O}_0$ and so $p/a = x^m \in (f, g)$. Thus when we quotient by $(f, g)$ we kill off $x^m$, and so $x$ is nilpotent in $\mathcal{O}_0 / (f, g)$. The same goes for $y$. This puts an upper bound on the degree of the polynomials that can appear as numerators or denominators in $\mathcal{O}_0/(f, g)$. 

We can then also get that each element of the quotient can be represented by a polynomial. All we need to check is that elements of the form $\frac{1}{p}$ can be so represented. If $p$ shows up as a denominator then it must have a nonzero constant term. In that case $\frac{1}{p}$ can be represented as a formal power series in $x$ and $y$; but the fact that $x, y$ are nilpotent means that all but finitely many terms of the series are $0$. Thus $\frac{1}{p}$ is equivalent to a polynomial. 

Putting these together, we get that every element of $\mathcal{O}_0(f, g)$ can be represented by an element of $K[x, y]$ with degree at most $m + n$, for some integers $m, n$; thus $K[x, y]$ is finite-dimensional, with dimension at most $m + n$. 

Conversely, suppose that $f, g$ do have a common component $d$ with $d(0, 0) = 0$. As before, we can divide out common components that don't pass through the origin, so that $f, g$ consist only of components that pass through the origin, and $\gcd(f, g) = d$. Then $(f, g) \subseteq (d)$. Now let $p$ be a curve passing through the origin which has no component in common with $d$. We will show that the set of polynomials of the form $p^n$ is linearly independent over $K$ in $\mathcal{O}_0$, and so that there exists an infinite linearly independent set in $\mathcal{O}_0 / (f, g)$. Suppose there exist $a_i \in K$, not all zero, with $a_0 + a_1p + \dots + a_np^n = 0$, and let $n$ be the least integer for which this is true. Then, since $p(0, 0) = 0$, evaluating both sides at the origin gets $a_0 = 0$. Thus $p(a_1 + \dots + a_np^{n-1}) = 0$, meaning that (considering $p$ as an element of $K[x, y]$) we have that $p(a_1 + \dots + a_np^{n-1})$ is divisible by $d$. Since $p, d$ have no common factor (we may assume without loss of generality that $p$ has no component which does not pass through the origin), this implies that $a_1 + \dots + a_np^{n-1}$ is divisible by $d$, and not all of the $a_i$ are zero, contradicting the minimality we assumed earlier.

## Multiplicity 1

## Examples
This new definition of intersection multiplicity agrees with the old definition of the multiplicity of a root, when we consider intersections of a polynomial with the x-axis. Let $f = y - p(x)$, where $p \in K[x]$, and $g = y$, so that $V(f)$ is the graph of $p$ and $V(g)$ is the x-axis. Then consider $\mu_0(f, g) = \mathcal{O}_0 / (f, g)$. Taking the quotient by $(g)$ sets $y = 0$, 