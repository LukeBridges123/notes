## Formal Power Series
In general we can say that formal power series form an algebra over $\mathbb{C}$ (or whatever field the coefficients are taken to be from), i.e. a vector space with commutative multiplication defined over the vectors. 

Another operation on formal power series: coefficient extraction operator. $[x^n]f(x)$ returns $a_n$, the coefficient of the $x^n$ term; it is a linear functional on the vector space of formal power series.

Ordinary generating function of $\{a_n\}$: 

Invertibility: product of $(1-x)$ and $\sum_{n \geq 0}x^n$ is $\sum_{n\geq 0}x^n - x \sum_{n\geq 0}x^n = 1 + \sum_{n \geq 1}x^n - \sum_{n \geq 1}x^n = 1$; thus $\sum_{n\geq 0}x^n$ can be said to be the reciprocal of (1-x), or $\sum_{n\geq 0}x^n$ is equal to $\frac{1}{1-x}$. (This proves, using more purely "formal" ideas, what would usually be proven about geometric series.) General result: formal power series $f(x) = \sum_na_nx^n$ has a reciprocal $\frac{1}{f(x)}$ if and only if the constant term of $f(x)$ is nonzero; also, it is unique if it exists. 

As for inverses in the functional sense, might wonder when a formal power series f has an inverse g such that $f(g(x)) = g(f(x)) = x$. We define composition f(g(x)) of formal power series as follows: it is defined if and only if f is a polynomial or g has a constant term of 0. In that case, if two power series are compositional inverses, we have $[x]f(x) \neq 0$ and $[x]g(x) \neq 0$, i.e. linear terms of both are nonzero. 

Convergence of sequences of formal power series: let $\{f_n(x)\}$ be a sequence of formal power series; then $f_n(x)$ converges to a formal power series $f(x) = \sum_na_nx^n$ if, for every k, $[x^k]f_0(x), [x^k]f_1(x), [x^k]f_2(x) ...$ eventually stabilizes (in the sense of always being the same number beyond a certain point). E.g. let $A(x) = \sum_{n\geq 0}a_nx^n$, and let $A_m(x) = \sum_{n=0}^ma_nx^n$. Then $\{A_m(x)\}$ converges to $A(x)$, because for all n, the sequence $[x^n]A_m(x)$ will look like $0, 0, 0, ... a_n, a_n, a_n...$ with the "switch" happening when m = n. 

Calculus of FPS: we define the derivative $f'(x)$ of $f(x) = \sum_{n \geq 0}a_nx^n$ to be $f'(x) = \sum_{n\geq 1}na_nx^{n-1}$. So, shift forward by 1 and multiply by n. Ex: $\sum_{n \geq 1} nx^n = x \sum_{n \geq 1}nx^{n-1} = xD_x(\sum_{n \geq 0}x^n) = xD_x(1/(1-x)) = \frac{x}{(1-x)^2}$. Since $[x^n] (1/(1-x)) = 1$ for all n, and ... 

Relation to actual power series: let $a_n$ be a sequence with ogf $A(x)$; if $A(x)$ has a closed form as a rational function, then the Taylor expansion of $A(x)$ will generate $a_n$ (in the sense that the nth coefficient of the Taylor expansion will be $a_n$, or in other words, $a_n = A^{(n)}(x)/n!$ ). That is, the closed form as derived purely formally will agree with what can be derived analytically. Is this the case for more general sorts of closed forms? Unclear; look into further. 
## Some General Generating Function Identities
### Generating Function of Partial Sums
Theorem: let $A(x) = \sum_na_nx^n$. Then $\frac{A(x)}{1-x} = \sum_n(\sum_{k=0}^na_k)x_k$. Proof: recall the Cauchy product definition of multiplication of FPS, $A(x)B(x) = \sum_k c_k$ where $c_k = \sum_{i=0} a_{i}b_{k-i}$. If we set $B(x) = $\sum_n x^n$ then this becomes $c_k = \sum_{i=0}^k a_ib_{k-i} = \sum_{i=0}^k a_i * 1 = \sum_{i=0}^k a_i$. Thus $A(x) * \frac{1}{1-x} = \sum_n(\sum_{k=0}^na_k) x^n$. 
## Generating Functions of Some Common Sequences
$\frac{1}{1-x} = \sum_n x^n = 1, 1, 1, ...$ (constant sequence of 1)
$\frac{1}{(1-x)^2} = \sum_nnx^n = 1, 2, 3, 4, ...$ (natural numbers)
$\frac{1}{(1-x)^3} =$  triangular numbers = $1, 3, 6, 10, ...$ 
$\frac{1}{1+x} = 1, -1, 1, -1, ...$ 
$\frac{1}{1-ax} = \sum_n a^nx^n$ 
$\frac{x^k}{(1-x)^{k+1}} = \sum_n\binom{n}{k}x^n$ (i.e. binomial coefficients, but summing over the upper index with fixed k) Proof: start with $(1-x)^{k+1} = (1 + (-x))^{k+1} = \sum_{n \geq 0}\binom{k+1}{n}(-1)^nx^n$... finish by "factoring out a negative from the upper binomial index" and going from there. 

## Ordinary Generating Functions
The ordinary generating function (ogf) of the sequence $a_n$ is $f(x) = \sum_n a_n x^n$. 
### Recurrences with ordinary generating functions
#### An easy recurrence
$a_n = 2a_{n-1}$, with initial term $a_0$ given. Let $A(x)$ be the ogf of $a_n$. Then we have $A(x) = \sum_{n \geq 0} a_nx^n = a_0 + \sum_{n \geq 1} 2a_{n-1}x^{n} = a_0 + 2x\sum_{n\geq 1}a_{n-1}x^{n-1} = a_0 + 2xA(x)$. Thus $A(x) = a_0 + 2xA(x)$ or $A(x)(1-2x) = a_0$ or $A(x) = \frac{a_0}{1-2x}$. We can consider this a closed form of the generating function, though not of the sequence. This also gives us a closed form for the numbers $a_n$, namely $a_02^n$, given the general result that $\frac{a}{1-bx} = a\sum_{n=0}b^nx^n$. 
#### An easy recurrence with a constant term
Say we add an additional constant term, $a_{n+1} = 2a_{n} + 1, a_0 = 1$, so $1, 3, 7, 15, ...$. Then $a_n$ has generating function A(x) = $\sum_{n \geq 0} a_{n+1}x^{n+1}$ = $\sum_{n \geq 0} 2a_{n}x^{n+1} + \sum_{n \geq 0} x^{n+1}$. A bit of manipulation on the RHS gets $2x\sum_{n \geq 0}a_nx^n + x\sum_{n \geq 0}x^{n}$, i.e. $2xA(x) + \frac{x}{1-x}$. Also, the LHS is just $A(x) - 1$ (since $a_0$ = 1). Thus $A(x) - 1 = 2xA(x) + \frac{x}{1-x}$, so $A(x) - 2xA(x) = \frac{x}{1-x} + 1$, or $A(x)(1 - 2x) = \frac{x}{1-x} + 1 = \frac{1}{1-x}$. Thus $A(x) = \frac{1}{1-x} * \frac{1}{1-2x}$. Now, we know that $\frac{1}{1-2x}$ generates the powers of 2, and we know that multiplying an ogf A(x) by $\frac{1}{1-x}$ gives the ogf for the partial sums of the coefficients of A(x). ... Alternatively, we can use partial fraction decomposition to turn $A(x)$ into a sum of reciprocols of monomials; in particular we get $A(x) = \frac{-1}{1-x} + \frac{2}{1-2x}$. Then we know that $a_n$ is the sum of the nth terms of the expansions of $\frac{-1}{1-x}$ and $\frac{2}{1-2x}$, namely $-1$ for the first and $2 * 2^n = 2^{n+1}$ for the second. Thus $b_n = 2^{n+1} - 1$. 
#### A Fibonacci-type recurrence 
Say $b_{n+2} = b_{n+1} + 6b_n$. This is a "second-order" recurrence relation which needs two initial conditions, say $b_0 = 3, b_1 = 4$. For the ogf B(x) we have $B(x) = \sum_{n \geq 0} b_{n+2}x^{n+2} = \sum_{n \geq 0}b_{n+1}x^{n+2} + 6\sum_{n \geq 0}b_nx^{n+2} = x\sum_{n \geq 0}b_{n+1}x^{n+1} + 6x^2\sum_{n \geq 0}b_nx^n$. This all becomes $B(x) - b_0 - b_1x = x(B(x) - b_0) + 6x^2B(x)$. Using the initial conditions this is $B(x) - 3 - 4x = x(B(x) - 3x) + 6x^2B(x)$. Solving for B(x) here gets $B(x) = \frac{3+x}{1 - x - 6x^2}$. Now to find a closed form for the terms in the sequence, first take $B(x) = \frac{3+x}{(1+2x)(1-3x)}$.
#### The Fibonacci Numbers

### General Results on Recurrences Solvable with OGFs
Let $p, q$ be relatively prime polynomials (i.e. $\gcd(p, q) = 1$), with $0 \leq k = \deg(p) < \deg(q) = m$. So $q(x) = \sum{i=0}^m q_ix^i, q_0 \neq 0$. Let $f(x) = \frac{p(x)}{q(x)}$ be the ogf of some sequence $f_n$. Then for all $n \geq 0$, $f_n$ satisfies the recurrence $q_0f_{n+m} + q_1f_{n + m - 1} ... q_mf_n = 0$ with initial conditions $f_j = \frac{f^{(j)}(0)}{j!}$, $0 \leq j \leq m - 1$. (I.e. $f_j$ is the jth term in the Taylor series of f centered at 0). So e.g. the sequence $g_n$ whose ogf is $G(x) = \frac{1}{1 - ax - bx^2 - cx^3}$ satisfies $g_{n+3} = ag_{n+2} + bg_{n+1} + cg_n$. We can also get the initial condition $g_0 = G(0) = 1$ easily. $g_1 = G'(0)/1!$, which is $\frac{-(-a - 2bx - 3cx^2)}{(1 - ax - bx^2 - cx^3)^2}$. The denominator is still 1, while the numerator is $a$, so $g_1 = a$. Some more bashing gets $g_2 = a^2 + b$. 

#### Turning inhomogenous recurrences into homogenous ones
Recall the recurrence in "an easy recurrence with a constant term" above; fill in later--this satisfies the homogenous recurrence relation $a_{n+2} = 3a_{n+1} - 2a_n$, as provable from reading off the polynomial in the rational function or from some manipulations on the recurrence itself. 

Possibly worth doing: try to prove this without going through the closed form of the ogf.

#### Wilf Rules
1st Wilf Rule: Suppose $F(x) = \sum_{n \geq 0}f_nx^n$, and let $k > 0$. Then the ogf of $f_{n+k}$ is $\frac{F(x) - f_0 - f_1x - ... -f_{k-1}x^{k-1}}{x^k}$. 
2nd Wilf Rule: Let $A(x) = \sum_{n \geq 0}a_nx^n$, and let p be a polynomial in x. Then the sequence $p(n)a_n$ has ogf $p(xD)A(x)$ where $D$ is the derivative operator, and something like $(xD)^2F(x)$ means $xD(xD(F(x)))$--i.e. differentiate, multiply by x, differentiate the result, multiply by x again. 
3rd Wilf Rule: just gives definition of product of OGFs. 
4th Wilf Rule: generalization of 3 to products of many factors. Recall that the nth coefficient of $A(x)B(x)$ is $\sum_ka_kb_{n-k}$; we can rewrite this $\sum_{j+k=n}a_jb_k$, i.e. sum over all pairs of numbers $j, k$ with $j+k = n$. Adding in a 3rd factor $C(x)$ gives the nth coefficient of $A(x)B(x)C(x) = \sum_{i + j + k = n}a_ib_jc_k$. Writing out the full generalization involves annoying indices, but the basic idea is clear. 
5th Wilf Rule: $\frac{A(x)}{1-x}$ generates the sequence of partial sums of $a_n$. 
6th Wilf Rule: 
### Combinatorial Interpretation of Products of Ordinary Generating Functions
Example: how many ways to divide an n-day semester into 2 parts, with 1 holiday in the 1st part and 2 in the 2nd part? (The holidays in the second part are indistinguishable.) Say that there are $h_n$ ways. Certainly if there are k days in the first part, there are $\binom{k}{1}$ ways to choose the 1st holiday, $\binom{n-k}{2}$ ways to choose the two in the second part, $h_n = \sum_k k\binom{n-k}{2}$, ways total (summing over all k). That last part looks like a convolution, of the sequences $a_k = k, b_k = \binom{k}{2}$: $h_n = \sum_{k=0}^na_kb_{n_k}$. Now let $A(x) = \sum_{n \geq 0}nx^n, B(x) = \sum_{n \geq 0}\binom{n}{2}x^n$. According to the product rule for formal power series, if $H(x) = \sum_{n \geq 0}h_nx^n$, then $H(x) = A(x)B(x)$. So we need only find closed forms for the generating functions $A(x)$ and $B(x)$. As it happens, $A(x) = \frac{x}{(1-x)^2}$, and $B(x) = \frac{x^2}{(1-x)^3}$, as consequences of the general fact that $\sum_n \binom{n}{k}x^n$ (i.e. summing over n for fixed k) equals $\frac{x^k}{(1-x)^k}$. So $H(x) = \frac{x^3}{(1-x)^5}$-- a nice closed form for the ogf. Now to get the coefficients $h_n$, we have $h_n = [x^n]H(x) = [x^n]\frac{x^3}{(1-x)^5} = [x^n]\frac{x}{x}\frac{x^3}{(1-x)^5} = [x^n]\frac{1}{x}\frac{x^4}{(1-x)^5}$ = $[x^n]\frac{1}{x}\sum_k\binom{k}{4}x^k$  = $[x^{n+1}]\sum_k\binom{k}{4}x^k$ = $\binom{n+1}{4}$. (To confirm this answer, we can prove the same thing combinatorially--take n+1 slots and choose 4 of them to mark; consider the first mark as the holiday, the second mark as a divider between the two parts, and the last two as the last two holidays; then you end up with n days divided into 2 parts with holidays distributed as desired.) 

### Compositions of Ordinary Generating Functions
Compositions of ogfs often show up in a purely "formal" way without any relevant combinatorial interpretation; see the articles on Fibonacci numbers and Catalan numbers. But there is a general combinatorial interpretation of compositions whenever they are defined.

### Integer Partitions with ogfs

## Exponential Generating Functions
The exponential generating function (egf) of $a_n$ is $g(x) = \sum_n a_n \frac{x^n}{n!}$. That is, $[x^n]g(x) = [x^n]\sum_{n \geq 0}a_nx^n/n! = a_n/n!$; the ordinary coefficient extraction operator doesn't give you the nth term of the sequence, rather $n![x^n]$ does. So, for instance, $e^x = \sum_n\frac{x^n}{n!}$ is the egf of the constant sequence $1, 1, 1...$. Even fast-growing sequences which may have had no closed form for their ogf have a closed form egf--e.g. $n!$ has egf $\sum_n n! \frac{x^n}{n!} = \sum_nx^n = \frac{1}{1-x}$. 

### Wilf Rules for egfs
Rule 1: if $A$ is the egf of the sequence $\{a_n\}$ and $k$ is a positive integer, then the kth derivative of $A$, $D^kA$, is the egf for $\{a_{n+k}\}$. (Proof: exercise)
Rule 2: same as the rule 2 for ogfs.
Rule 3: let $A(x), B(x)$ be egfs of sequences $a_n, b_n$. Then $A(x)B(x) = \sum_{n \geq 0}a_n\frac{x^n}{n!}\sum_{n \geq 0}b_n\frac{x^n}{n!}$. Using the Cauchy product definition/ Wilf Rule 3 for ogfs, we get $A(x)B(x) = \sum_{n \geq 0}(\sum_{k = 0}^n\frac{a_k}{k!} * \frac{b_{n-k}}{(n-k)!})x^n$. Multiplying by $n!/n!$ gets $\sum_{n \geq 0}(\sum_{k = 0}^n\binom{n}{k}a_kb_{n-k})\frac{x^n}{n!}$, i.e. the efg of $\sum_{k=0}^n\binom{n}{k}a_kb_{n-k}$, so $AB$ is the egf of the sequence of those sums. 

### Example: Bell numbers
Recall a recurrence for the Bell numbers, $b_{n+1} = \sum_{k = 0}^n\binom{n}{k}b_k$. This certainly looks like the sort of convolution that shows up in the product of egfs, esp. if we change it to $\sum_{k=0}^n\binom{n}{k}b_k1^{n-k}$. Let $B(x) = \sum_{n \geq 0}b_n\frac{x^n}{n!}$; we want to find a closed form for this. First, apply Wilf rule 1 to the LHS get that the egf of $b_{n+1}$ is $B'(x)$. Then, apply Wilf rule 3 to the RHS to get egf of $b_{n+1} = B'(x) = B(x)e^x$ (since $e^x$ generates the constant sequence of 1s). Then $\frac{B'(x)}{B(x)} = e^x$ -- an ODE for $B(x)$. Antiderivative of LHS is $\ln(B(x))$, while antiderivative of RHS is $e^x + c$. $B(0) = b_0 = 1$, $\ln(1) = 1 + c = 0$, and so $c = -1$. Then $B(x) = e^{(e^x - 1)}$. 
### Example: Derangements
Let $d_n$ count the number of derangeemnts on n objects. Exercise: we have the recurrence $d_{n+1} = nd_n + nd_{n-1}$, with initial conditions $d_0 = 1, d_1 = 0$. Now let $D(x) = \sum_{n \geq 0}d_n \frac{x^n}{n!}$. We also want to get egfs for the terms on the RHS of the recurrence. To get the first, start with  $D'(x) = \sum_{n \geq 0}d_{n+1}\frac{x^n}{n!}$. Multiplying by x gets $xD'(x) = \sum_{n \geq 0}d_{n+1}\frac{x^{n+1}}{n!}$, and multiplying that by $\frac{n+1}{n+1}$ gets $\sum_{n \geq 0}(n+1)d_{n+1}\frac{x^n}{(n+1)!} = \sum_{n \geq 1}nd_n\frac{x^n}{n!}$.  For the second term, note $xD(x) = \sum_{n \geq 0}d_n\frac{x^{n+1}}{n!} = \sum_{n \geq 0}(n+1)d_n\frac{x^{n+1}}{(n+1)!} = \sum_{n \geq 0}nd_{n-1}\frac{x^n}{n!}$. ($d_{-1}$ is defined to be 0, so don't worry about the first term of that sum. ) Thus $D'(x) = xD'(x) + xD(x)$, or $D'(x)(1-x) = xD(x)$. This gets another differential equation, $\frac{D'(x)}{D(x)} = \frac{x}{1-x}$. [solve] So $D(x) = \frac{e^{-x}}{1-x}$. 

Alternatively, recall that $n! = \sum_k \binom{n}{k}d_{n - k}$ (think: to get a permutation, choose k fixed points, and then derange the rest). Using the symmetry of the binomial coefficients and then reindexing, we get $\sum_k\binom{n}{n-k}d_{n-k}$ or $\sum_k\binom{n}{k}d_k$. So $n! = \sum_k\binom{n}{k}d_k$, and using binomial inversion, we get $d_n = \sum_k\binom{n}{k}k!(-1)^{n-k}$. This looks like it comes from a product of egfs, namely the egf of $n!$ and the egf of $(-1)^n$. Those are $\sum_n n!\frac{x^n}{n!} = \sum_n x^n = \frac{1}{1-x}$ and $\sum_n (-1)^n \frac{x^n}{n!} = e^{-x}$. So $\sum_n d_n \frac{x^n}{n!} = \frac{e^{-x}}{1-x}$. 

### "Snake Oil" method
Ex: find a closed form for the sum $\sum_{k \geq 0}\binom{k}{n - k}$. Let $g_n$ be that sum for a given n, and let $G(x)$ be the ogf of $g_n$. So $G(x) = \sum_{n \geq 0}(\sum_{k \geq 0}\binom{k}{n-k})x^n$. Interchanging the order of summation gets $\sum_{k \geq 0}\sum_{n \geq 0}\binom{k}{n-k}x^n$, or $\sum_{k \geq 0}x^k\sum_{n \geq 0}\binom{n}{n-k}x^{n-k} = \sum_{k \geq 0}x^k\sum_j\binom{k}{j}x^j$. The inner part is just $(1 + x)^k$, so we get $\sum_{k \geq 0}x^k(1+x)^k = \sum_{k \geq 0}(x + x^2)^k$, which is the ogf of the Fibonacci numbers, $\frac{1}{1- (x + x^2)}$ and from there we know the closed form. 

Snake Oil method (for computing closed forms of sequences defined in terms of sums):
1. Identify the free variable(s), i.e. whatever isn't being summed over, and name it. (E.g. n in the example above, so we can name the sum $g_n = \sum_{k \geq 0}\binom{k}{n-k})$
2. Create an ogf for the newly defined sequence.
3. This gives a double sum; interchange the order of summation. 
4. Try to identify the coefficients of the interchanged sum. 
Step 4 requires knowing some common sums: e.g. $(1 + x)^n = \sum_k\binom{n}{k}x^k, \frac{x^k}{(1-x)^{k+1}} = \sum_n\binom{n}{k}x^n, \frac{1 - \sqrt{1 - 4x}}{2x} = \sum_n\frac{1}{n+1}\binom{2n}{n}x^n$. 

Another ex: evaluate $\sum_k\binom{n+k}{2k}2^{n - k}$. Let $f_n = \sum_k\binom{n+k}{2k}a^{n-k}$, where $a$ is any real number and let $F(x)$ be the ogf. So $F(x) = \sum_n(\sum_k\binom{n+k}{2k}a^{n-k})x^n$. Interchanging the order gets $\sum_k\sum_n\binom{n+k}{2k}a^{n-k}x^n$ = $\sum_ka^{-k}\sum_n\binom{n+k}{2k}(ax)^n$. Multiply the inner sum by $(ax)^-k$ and $ax^k$ to get $\sum_ka^{-k}a^{-k}x^{-k}\sum_n\binom{n+k}{2k}(ax)^{n+k}$. The inner sum equals $\frac{(ax)^{2k}}{(1 - ax)^{2k+1}}$. So we have $\sum_ka^{-2k}x^{-k}\frac{(ax)^{2k}}{(1-ax)^{2k+1}} = \sum_k\frac{x^k}{(1-ax)^{2k+1}} = \frac{1}{1-ax}\sum_k(\frac{x}{(1-ax)^2})^k$, with that sum being a geometric series. So we get $\frac{1}{1-ax}\frac{1}{1-\frac{x}{(1-ax)^2}}$ which reduces to $\frac{1-ax}{1-(1 + 2a)x + a^2x^2}$. E.g. letting $a = 2$, we get $\frac{1-2x}{1-5x+4x^2} = \frac{1-2x}{(1-x)(1-4x)}$. From there we can do partial fractions to get a nicer closed form. 

Yet another ex: $\sum_k\binom{n}{k}\binom{2n}{n-k}$. An unusual way to solve this: change almost all of the free variables, to get $\sum_k\binom{n}{k}\binom{m}{s - k}$. Let $a_n$ be this sum. We might choose to sum over n, so $A(x) = \sum_n(\sum_k\binom{n}{k}\binom{m}{s-k})x^n = \sum_k\sum_n\binom{n}{k}\binom{m}{s-k}x^n$. Now we can pull out one of those binomial coefficients, $\sum_k\binom{m}{s-k}\sum_n\binom{n}{k}x^n = \sum_k\binom{m}{s-k}\frac{x^k}{(1-x)^{k+1}}$ . This shows how the method can fail: this sum is hard to simplify, and maybe we would have been better off choosing a different free variable. So, let $b_m = \sum_k\binom{n}{k}\binom{m}{s-k}$, and $B(x) = \sum_m(\sum_k\binom{n}{k}\binom{m}{s-k})x^m$. Interchanging gets $\sum_k\binom{n}{k}\sum_m\binom{m}{s-k}x^m = \sum_k\binom{n}{k}\frac{x^{s-k}}{(1-x)^{s-k+1}}$ = $\frac{x^s}{(1-x)^{s+1}}\sum_k\binom{n}{k}\frac{x^{-k}}{(1-x)^{-k}}$.That inner fraction equals $u^k$ where $u = \frac{1-x}{x}$. So we get $\frac{x^s}{(1-x)^{s+1}}\sum_k\binom{n}{k}u^k$. Also that bit in the front equals $\frac{u^{-s}}{1-x}$, and the sum equals $(1 + u)^n$. So at last we get $\frac{1}{1-x}\frac{1}{(1-x)^n}$ , substituting back in s = n. Also substituting back m = 2n, we have $a_{2n} = b_m$ equals the 2n term of $\frac{1}{(1-x)^{n+1}}$, which

#### Unclassified example
Define $\binom{m}{n}_p = \sum_k^{m}\binom{k}{p}\binom{k}{n}$, and consider its ogf $A_p(m, x) = \sum_n\binom{m}{n}_px^n$. This turns out to be  $\sum_k^m\binom{k}{p}(1 + x)^k$. These numbers count the number of ordered pairs (S, T) where $S \in \binom{[m+1]}{n+1}, T \in \binom{[m+1]}{p}$, subject to the restriction that the max element in $T$ is strictly less than the maximum element of $S$. (Ex: when $p = 0$, T is the empty set; )
